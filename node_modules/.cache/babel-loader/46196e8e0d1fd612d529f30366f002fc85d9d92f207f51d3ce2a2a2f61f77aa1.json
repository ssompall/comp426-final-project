{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  foodRecipes: [],\n  favUrl: [],\n  favKeys: {},\n  isFavFetched: false,\n  msg: \"Don't know what to make? We've got your back!\"\n};\nconst recipesSlice = createSlice({\n  name: \"favRecipesSlice\",\n  initialState,\n  reducers: {\n    fetchRecipes(state, actions) {\n      state.foodRecipes = actions.payload.recipes;\n      state.favKeys = actions.payload.favKeys;\n      state.isFavFetched = actions.payload.isFavFetched;\n      state.msg = actions.payload.msg;\n    },\n    fetchFavUrl(state, actions) {\n      state.favUrl = actions.payload.url;\n      state.favKeys = actions.payload.favKeys;\n    },\n    deleteFavRecipes(state, actions) {\n      const url = actions.payload.url;\n      const index = state.favUrl.indexOf(url);\n      state.favUrl.splice(index, 1);\n      delete state.favKeys.url;\n\n      //deleting unfavourite recipe from recipe list\n      if (state.isFavFetched) {\n        for (const recipeObj of state.foodRecipes) {\n          if (recipeObj.recipe.url === url) {\n            const recipeIndex = state.foodRecipes.indexOf(recipeObj);\n            state.foodRecipes.splice(recipeIndex, 1);\n          }\n        }\n      }\n    },\n    clearOnLogout(state) {\n      state.favUrl = [];\n      state.favKeys = {};\n      if (state.isFavFetched) {\n        state.foodRecipes = [];\n        state.isFavFetched = false;\n        state.msg = \"Login to see your saved recipes\";\n      }\n    }\n  }\n});\nexport const recipesActions = recipesSlice.actions;\nexport default recipesSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","foodRecipes","favUrl","favKeys","isFavFetched","msg","recipesSlice","name","reducers","fetchRecipes","state","actions","payload","recipes","fetchFavUrl","url","deleteFavRecipes","index","indexOf","splice","recipeObj","recipe","recipeIndex","clearOnLogout","recipesActions","reducer"],"sources":["/Users/snigdhasompalli/Library/CloudStorage/OneDrive-UniversityofNorthCarolinaatChapelHill/School/Year4-SP24/COMP 426/comp426-final-project/src/store/recipes-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialState = {\r\n  foodRecipes: [],\r\n  favUrl: [],\r\n  favKeys: {},\r\n  isFavFetched: false,\r\n  msg: \"Don't know what to make? We've got your back!\",\r\n};\r\n\r\nconst recipesSlice = createSlice({\r\n  name: \"favRecipesSlice\",\r\n  initialState,\r\n  reducers: {\r\n    fetchRecipes(state, actions) {\r\n      state.foodRecipes = actions.payload.recipes;\r\n      state.favKeys = actions.payload.favKeys;\r\n      state.isFavFetched = actions.payload.isFavFetched;\r\n      state.msg = actions.payload.msg;\r\n    },\r\n    fetchFavUrl(state, actions) {\r\n      state.favUrl = actions.payload.url;\r\n      state.favKeys = actions.payload.favKeys;\r\n    },\r\n    deleteFavRecipes(state, actions) {\r\n      const url = actions.payload.url;\r\n      const index = state.favUrl.indexOf(url);\r\n      state.favUrl.splice(index, 1);\r\n      delete state.favKeys.url;\r\n\r\n      //deleting unfavourite recipe from recipe list\r\n      if (state.isFavFetched) {\r\n        for (const recipeObj of state.foodRecipes) {\r\n          if (recipeObj.recipe.url === url) {\r\n            const recipeIndex = state.foodRecipes.indexOf(recipeObj);\r\n            state.foodRecipes.splice(recipeIndex, 1);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    clearOnLogout(state) {\r\n      state.favUrl = [];\r\n      state.favKeys = {};\r\n      if (state.isFavFetched) {\r\n        state.foodRecipes = [];\r\n        state.isFavFetched = false;\r\n        state.msg = \"Login to see your saved recipes\";\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const recipesActions = recipesSlice.actions;\r\n\r\nexport default recipesSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,MAAMC,YAAY,GAAG;EACnBC,WAAW,EAAE,EAAE;EACfC,MAAM,EAAE,EAAE;EACVC,OAAO,EAAE,CAAC,CAAC;EACXC,YAAY,EAAE,KAAK;EACnBC,GAAG,EAAE;AACP,CAAC;AAED,MAAMC,YAAY,GAAGP,WAAW,CAAC;EAC/BQ,IAAI,EAAE,iBAAiB;EACvBP,YAAY;EACZQ,QAAQ,EAAE;IACRC,YAAYA,CAACC,KAAK,EAAEC,OAAO,EAAE;MAC3BD,KAAK,CAACT,WAAW,GAAGU,OAAO,CAACC,OAAO,CAACC,OAAO;MAC3CH,KAAK,CAACP,OAAO,GAAGQ,OAAO,CAACC,OAAO,CAACT,OAAO;MACvCO,KAAK,CAACN,YAAY,GAAGO,OAAO,CAACC,OAAO,CAACR,YAAY;MACjDM,KAAK,CAACL,GAAG,GAAGM,OAAO,CAACC,OAAO,CAACP,GAAG;IACjC,CAAC;IACDS,WAAWA,CAACJ,KAAK,EAAEC,OAAO,EAAE;MAC1BD,KAAK,CAACR,MAAM,GAAGS,OAAO,CAACC,OAAO,CAACG,GAAG;MAClCL,KAAK,CAACP,OAAO,GAAGQ,OAAO,CAACC,OAAO,CAACT,OAAO;IACzC,CAAC;IACDa,gBAAgBA,CAACN,KAAK,EAAEC,OAAO,EAAE;MAC/B,MAAMI,GAAG,GAAGJ,OAAO,CAACC,OAAO,CAACG,GAAG;MAC/B,MAAME,KAAK,GAAGP,KAAK,CAACR,MAAM,CAACgB,OAAO,CAACH,GAAG,CAAC;MACvCL,KAAK,CAACR,MAAM,CAACiB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAC7B,OAAOP,KAAK,CAACP,OAAO,CAACY,GAAG;;MAExB;MACA,IAAIL,KAAK,CAACN,YAAY,EAAE;QACtB,KAAK,MAAMgB,SAAS,IAAIV,KAAK,CAACT,WAAW,EAAE;UACzC,IAAImB,SAAS,CAACC,MAAM,CAACN,GAAG,KAAKA,GAAG,EAAE;YAChC,MAAMO,WAAW,GAAGZ,KAAK,CAACT,WAAW,CAACiB,OAAO,CAACE,SAAS,CAAC;YACxDV,KAAK,CAACT,WAAW,CAACkB,MAAM,CAACG,WAAW,EAAE,CAAC,CAAC;UAC1C;QACF;MACF;IACF,CAAC;IACDC,aAAaA,CAACb,KAAK,EAAE;MACnBA,KAAK,CAACR,MAAM,GAAG,EAAE;MACjBQ,KAAK,CAACP,OAAO,GAAG,CAAC,CAAC;MAClB,IAAIO,KAAK,CAACN,YAAY,EAAE;QACtBM,KAAK,CAACT,WAAW,GAAG,EAAE;QACtBS,KAAK,CAACN,YAAY,GAAG,KAAK;QAC1BM,KAAK,CAACL,GAAG,GAAG,iCAAiC;MAC/C;IACF;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMmB,cAAc,GAAGlB,YAAY,CAACK,OAAO;AAElD,eAAeL,YAAY,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}